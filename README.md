![](gitcontent/zm_title.png)

# ZM Backend | Junior Python Developer

SQLite, Requests, Selenium and Multiprocessing

https://docs.google.com/document/d/1n11Jvf4RJCwbA5eJkoOnFgZfeN3TwUSRG2suuDU1rn0/edit

## Модуль SQLite

`app\mod3_selenium.py`

В этом коде мы используем метод execute для выполнения SQL-запросов в базе данных. В частности, мы используем метод execute для создания таблицы Cookie_Profile со всеми необходимыми столбцами и типами данных, а также метод execute для заполнения таблицы 15 значениями.

Важно отметить, что мы используем столбец id как первичный ключ таблицы, чтобы гарантировать уникальность каждой записи в таблице. Мы также используем столбец creation_date с типом TIMESTAMP и параметром DEFAULT CURRENT_TIMESTAMP для автоматической записи даты и времени создания каждой записи при ее добавлении в таблицу.

## Модуль Requests

`app\mod2_requests.py`

В этом коде мы используем модуль requests для выполнения GET-запроса к странице https://news.google.com/home, а затем модуль BeautifulSoup для парсинга HTML-кода страницы и поиска всех ссылок на новости на странице.

Мы находим все ссылки на новости, проверяя каждую ссылку на наличие подстроки /articles/ в ее адресе, и добавляем их в список news_links.

## Модуль Selenium

Чтобы выполнить задачи, описанные в модуле Selenium, понадобится установить Chrome драйвер, скачать драйвер здесь: https://sites.google.com/chromium.org/driverdownloads

`app\mod3_selenium.py`

В этом коде мы используем модуль selenium для открытия браузера Chrome и создания сессии для каждого профиля в базе данных.

Мы также извлекаем Cookie для каждого профиля из базы данных и передаем их в сессию браузера, если они есть.

Затем мы получаем список ссылок на новости из модуля Requests и выбираем случайную ссылку на новость из списка.

Мы прокручиваем страницу

## Модуль Multiprocessing

`app\mod4_multiprocessing.py`

В функции process_profile можно вызывать код для работы с SQLite, Requests и Selenium. В данном примере обработка каждого профиля будет выполняться в отдельном процессе, что позволит использовать многопоточность и обрабатывать несколько профилей одновременно.

### About Multiprocessing

*Multiprocessing - это модуль Python, который предоставляет возможность создания и управления несколькими процессами в одном приложении. Это позволяет использовать многопроцессорные вычисления, которые позволяют выполнять несколько задач одновременно на разных ядрах процессора, что ускоряет выполнение программы и улучшает производительность.*

*Модуль multiprocessing используется для решения задач, которые могут быть разделены на отдельные части, которые можно выполнять параллельно. Каждый процесс выполняется в отдельном пространстве памяти и имеет свои собственные ресурсы, такие как стек вызовов, указатель на текущее местоположение в коде и переменные.*

*С помощью multiprocessing можно выполнять многопоточную обработку данных, решать задачи машинного обучения, производить парсинг данных, а также выполнять множество других задач, которые могут быть эффективно выполнены с использованием нескольких процессов.*

### About Pool

*Pool - это класс из модуля multiprocessing, который предоставляет возможность создания пула процессов для выполнения функций в параллельных процессах. Он позволяет создавать заданный набор процессов, которые будут готовы к выполнению задачи, и затем использовать эти процессы для выполнения одной и той же функции на различных входных данных.*

*Класс Pool имеет методы, которые позволяют распределять задачи между процессами в пуле, а также управлять процессами в пуле. Он автоматически разделяет задачи между процессами и собирает результаты выполнения задач в список, который можно легко обработать.*

*Одно из преимуществ использования Pool заключается в том, что он может использоваться для выполнения задач на многопроцессорной системе, что позволяет использовать все доступные процессоры и значительно ускорить выполнение программы. Кроме того, он упрощает написание параллельного кода, поскольку разработчику не нужно самостоятельно заботиться о создании и управлении процессами.*